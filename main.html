<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Alainmar ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #faf7f5;
  --accent: #e8b4bc;
  --text: #2b2b2b;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.7;
}

body.locked {
  overflow: hidden;
  height: 100vh;
}

section {
  pointer-events: none;
  min-height: 100vh;
  padding: 60px 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

h1, h2 {
  font-family: 'Playfair Display', serif;
  margin-bottom: 20px;
}

p {
  max-width: 700px;
  margin-bottom: 20px;
}

.btn {
  padding: 12px 28px;
  border-radius: 30px;
  background: var(--accent);
  color: white;
  border: none;
  cursor: pointer;
  transition: transform .25s ease;
}
.btn:hover { transform: translateY(-3px); }

/* Fade sections */
.fade {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 1.2s ease, transform 1.2s ease;
}
.fade.show {
  opacity: 1;
  transform: translateY(0);
}

/* ===== GALLERY ===== */
.gallery {
  position: relative;
  width: 360px;     /* IMAGE SIZE */
  height: 360px;    /* IMAGE SIZE */
  margin-top: 40px;
}

.gallery img,
.gallery video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 18px;
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 3s ease, transform 3s ease; /* ANIMATION SMOOTHNESS */
  box-shadow: 0 25px 50px rgba(0,0,0,0.18);
}

.gallery .active {
  opacity: 1;
  transform: scale(1);
  z-index: 2;
}

.gallery .exit {
  opacity: 0;
  transform: scale(0.92);
  z-index: 1;
}

/* Letter */
.letter {
  background: rgba(255,255,255,0.65);
  backdrop-filter: blur(6px);
  padding: 32px;
  border-radius: 18px;
  max-width: 800px;
}

/* Hearts */
.heart {
  position: fixed;
  bottom: -20px;
  color: rgba(232,180,188,0.7);
  pointer-events: none;
  animation: floatUp linear forwards;
}

@keyframes floatUp {
  from { transform: translateY(0) scale(1); opacity: 1; }
  to   { transform: translateY(-120vh) scale(1.4); opacity: 0; }
}

/* Music button */
#music-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(232,180,188,0.9);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 20px;
  color: white;
  border: none;
  cursor: pointer;
  display: none;
}

.love {
  font-size: 2.2rem;
  margin-top: 40px;
  color: var(--accent);
  font-family: 'Playfair Display', serif;
}
</style>
</head>

<body class="locked">

<audio id="bg-music" loop>
  <source src="background.mp3" type="audio/mpeg">
</audio>

<section id="landing" class="fade" style="pointer-events:auto">
  <h1>For the girl I love</h1>
  <p>Even when I‚Äôm far away, my heart never is.</p>
  <button class="btn" onclick="startExperience()">Open</button>
</section>

<section id="voice" class="fade">
  <h2>Hear Me</h2>
  <p>This one is just for you.</p>
  <audio controls>
    <source src="voice-note.mp3" type="audio/mpeg">
  </audio>
</section>

<section id="gallery" class="fade">
  <h2>Us</h2>
  <p>Memories I replay when I miss you.</p>
  <div class="gallery">
    <!-- YOU CAN REORDER FREELY -->
    <img src="badminton.jpg">
    <video src="clip.mp4" muted loop playsinline></video>
    <img src="basketball_1.jpg">
    <img src="basketball_2.jpg">
  </div>
</section>

<section id="letter" class="fade">
  <h2>To my dearest Grace</h2>
  <div class="letter">
    <p>My love,</p>
    <p>No matter the distance, you‚Äôre always my person.</p>
    <p>Happy Valentine‚Äôs Day.</p>
    <p><strong>Always yours,<br>Ko</strong></p>
  </div>
</section>

<section id="end" class="fade">
  <h2>This distance is temporary.</h2>
  <p>Us is not.</p>
  <div class="love">I love you</div>
</section>

<button id="music-toggle" onclick="toggleMusic()">üéµ</button>

<script>
/* Fade sections */
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => e.isIntersecting && e.target.classList.add('show'));
}, { threshold: 0.2 });
document.querySelectorAll('.fade').forEach(f => observer.observe(f));

/* Music */
const music = document.getElementById('bg-music');
function fadeInMusic() {
  music.volume = 0;
  music.play();
  let v = 0;
  const i = setInterval(() => {
    if (v < 0.25) { v += 0.01; music.volume = v; } // üîä ADJUST MAX VOLUME HERE
    else clearInterval(i);
  }, 120);
}
function toggleMusic() {
  music.paused ? music.play() : music.pause();
}

/* Unlock site */
function unlockSite() {
  document.body.classList.remove('locked');
  document.querySelectorAll('section').forEach(s => s.style.pointerEvents = 'auto');
}

/* Start experience */
function startExperience() {
  unlockSite();
  fadeInMusic();
  startHearts();
  startGallery();
  document.getElementById('music-toggle').style.display = 'block';

  document.getElementById('voice').scrollIntoView({ behavior: 'smooth' });
}

/* Hearts */
let heartInterval;
function startHearts() {
  if (heartInterval) return;
  heartInterval = setInterval(() => {
    const h = document.createElement('div');
    h.className = 'heart';
    h.innerText = '‚ù§';
    h.style.left = Math.random()*100 + 'vw';
    h.style.fontSize = 14 + Math.random()*18 + 'px';
    h.style.animationDuration = 6 + Math.random()*4 + 's';
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 9000);
  }, 600);
}

/* Gallery */
const galleryItems = document.querySelectorAll('.gallery img, .gallery video');
let index = 0;
const DISPLAY_TIME = 6000; // ‚è±Ô∏è CHANGE DURATION HERE (ms)

function showItem(i) {
  galleryItems.forEach((el, idx) => {
    el.classList.remove('active', 'exit');
    if (el.tagName === 'VIDEO') {
      el.pause();
      el.currentTime = 0;
    }
    if (idx === i) {
      el.classList.add('active');
      if (el.tagName === 'VIDEO') el.play();
    } else {
      el.classList.add('exit');
    }
  });
}

function startGallery() {
  showItem(index);
  setInterval(() => {
    index = (index + 1) % galleryItems.length;
    showItem(index);
  }, DISPLAY_TIME);
}

/* CINEMATIC END LOCK */
const endSection = document.getElementById('end');
const endObserver = new IntersectionObserver(entries => {
  if (entries[0].isIntersecting) {
    document.body.classList.add('locked');
  }
}, { threshold: 0.8 });
endObserver.observe(endSection);
</script>

</body>
</html>
