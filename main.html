<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Alainmar ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #faf7f5;
  --accent: #e8b4bc;
  --text: #2b2b2b;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Inter', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.7;
}

body.locked {
  overflow: hidden;
  height: 100vh;
}

section {
  pointer-events: none;
  min-height: 100vh;
  padding: 60px 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

h1, h2 {
  font-family: 'Playfair Display', serif;
  margin-bottom: 20px;
}

p {
  max-width: 700px;
  margin-bottom: 20px;
}

.btn {
  padding: 12px 28px;
  border-radius: 30px;
  background: var(--accent);
  color: white;
  border: none;
  cursor: pointer;
  transition: transform .25s ease;
}
.btn:hover { transform: translateY(-3px); }

/* Fade sections */
.fade {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 1.2s ease, transform 1.2s ease;
}
.fade.show {
  opacity: 1;
  transform: translateY(0);
}

/* ===== GALLERY ===== */
.gallery {
  position: relative;
  width: 360px;
  height: 360px;
  margin-top: 40px;
}

.gallery img,
.gallery video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 18px;
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 3s ease, transform 3s ease;
  box-shadow: 0 25px 50px rgba(0,0,0,0.18);
}

.gallery .active {
  opacity: 1;
  transform: scale(1);
  z-index: 2;
}

.gallery .exit {
  opacity: 0;
  transform: scale(0.92);
  z-index: 1;
}

/* Letter */
.letter {
  background: rgba(255,255,255,0.65);
  backdrop-filter: blur(6px);
  padding: 32px;
  border-radius: 18px;
  max-width: 800px;
}

/* Hearts */
.heart {
  position: fixed;
  bottom: -20px;
  color: rgba(232,180,188,0.7);
  pointer-events: none;
  animation: floatUp linear forwards;
}

@keyframes floatUp {
  from { transform: translateY(0) scale(1); opacity: 1; }
  to   { transform: translateY(-120vh) scale(1.4); opacity: 0; }
}

/* Music button */
#music-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(232,180,188,0.9);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 20px;
  color: white;
  border: none;
  cursor: pointer;
  display: none;
}

.love {
  font-size: 2.2rem;
  margin-top: 40px;
  color: var(--accent);
  font-family: 'Playfair Display', serif;
}

/* ===== FLOWERS ===== */
.flower {
  position: fixed;
  bottom: -40px;
  pointer-events: none;
  opacity: 0.28;
  animation: floatFlower linear forwards;
  z-index: 0;
}

.hydrangea {
  color: #6fa8ff;
  filter: drop-shadow(0 0 6px rgba(110, 204, 255,0.25));
}

.rose {
  color: #c81d25;
  filter: drop-shadow(0 0 8px rgba(200,30,40,0.35));
}

@keyframes floatFlower {
  from {
    transform: translateY(0) rotate(0deg);
    opacity: 0.3;
  }
  to {
    transform: translateY(-130vh) rotate(360deg);
    opacity: 0;
  }
}
  
</style>
</head>

<body class="locked">

<audio id="bg-music" loop>
  <source src="background.mp3" type="audio/mpeg">
</audio>

<section id="landing" class="fade" style="pointer-events:auto">
  <h1>For the girl I love</h1>
  <p>Even when I‚Äôm far away, my heart never is.</p>
  <button class="btn" onclick="startExperience()">Open</button>
</section>

<section id="voice" class="fade">
  <h2>Hear Me</h2>
  <p>You said you like my voice. So, this one is just for you.</p>
  <audio controls>
    <source src="voice-note.mp3" type="audio/mpeg">
  </audio>
</section>

<section id="gallery-section" class="fade">
  <h2>Us</h2>
  <p>Memories I replay when I miss you.</p>
  <div class="gallery">
    <img src="1.jpg" class="active">
    <video src="MYA7UCC1FDM5667R3G2F.mp4" muted loop playsinline></video>
    <img src="2.jpg">
    <video src="2.mp4" muted loop playsinline></video>
    <img src="3.jpg">
    <video src="VID_20260212_210638_108~3.mp4" muted loop playsinline></video>
    <img src="IMG_2906.jpg">
    <video src="IMG_5255~2.mp4" muted loop playsinline></video>
    <img src="IMG_20260112_112540.jpg">
    <video src="VID_20260119_113737.mp4" muted loop playsinline></video>
    <img src="6.jpg">
    <video src="6.mp4" muted loop playsinline></video>
    <img src="7.jpg">
    <video src="7.mp4" muted loop playsinline></video>
    <img src="IMG_6297~2.jpg">
    <video src="VID_20260210_1711162.mp4" muted loop playsinline></video>
    <img src="9.jpg">
    <img src="10.jpg">
  </div>
</section>

<section id="letter" class="fade">
  <h2>To my dearest Grace</h2>
  <div class="letter">
    <p>My Love,</p>
    <p>What started as small moments turned into something real before I even realized it.</p>
    <p>Every photo, every moment, every memory‚Ä¶ they‚Äôre reminders of how lucky I am to love you and be loved by you.</p>
    <p>You're my comfort, my a chit tone and my favorite place to be.</p>
    <p>No distance changes that. No time weakens it.</p>
    <p>Thank you for being patient with me, for choosing me, and for loving me the way you do.</p>
    <p>I promise I‚Äôll always choose you too ‚Äî today, tomorrow, and every version of us that comes after.</p>
    <p>Happy Valentine‚Äôs Day.</p>
    <p><strong>Always yours,<br>ko</strong></p>
  </div>
</section>


<section id="end" class="fade">
  <h2>This distance is temporary.</h2>
  <p>Us is not.</p>
  <div class="love">I love you</div>
</section>

<button id="music-toggle" onclick="toggleMusic()">üéµ</button>

<script>

/* Fade sections */
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => e.isIntersecting && e.target.classList.add('show'));
}, { threshold: 0.2 });
document.querySelectorAll('.fade').forEach(f => observer.observe(f));

/* Music */
const music = document.getElementById('bg-music');
function fadeInMusic() {
  music.volume = 0;
  music.play();
  let v = 0;
  const i = setInterval(() => {
    if (v < 0.40) { v += 0.01; music.volume = v; }
    else clearInterval(i);
  }, 40);
}
function toggleMusic() {
  music.paused ? music.play() : music.pause();
}

/* Unlock site */
function unlockSite() {
  document.body.classList.remove('locked');
  document.querySelectorAll('section').forEach(s => s.style.pointerEvents = 'auto');
}

/* Start experience */
function startExperience() {
  unlockSite();
  fadeInMusic();
  startHearts();
  startHydrangeas();
  
  document.getElementById('music-toggle').style.display = 'block';
  document.getElementById('voice').scrollIntoView({ behavior: 'smooth' });
}

/* ===== HYDRANGEAS ===== */
let hydrangeaInterval;

function startHydrangeas() {
  if (hydrangeaInterval) return;

  hydrangeaInterval = setInterval(() => {
    const f = document.createElement('div');
    f.className = 'flower hydrangea';
    f.innerText = 'üí†';

    f.style.left = Math.random() * 100 + 'vw';
    f.style.fontSize = 18 + Math.random() * 26 + 'px';
    f.style.animationDuration = 14 + Math.random() * 8 + 's';

    document.body.appendChild(f);
    setTimeout(() => f.remove(), 22000);
  }, 1400);
}


/* Hearts */
let heartInterval;
function startHearts() {
  if (heartInterval) return;
  heartInterval = setInterval(() => {
    const h = document.createElement('div');
    h.className = 'heart';
    h.innerText = '‚ù§';
    h.style.left = Math.random()*100 + 'vw';
    h.style.fontSize = 14 + Math.random()*18 + 'px';
    h.style.animationDuration = 6 + Math.random()*4 + 's';
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 9000);
  }, 600);
}

/* ===== ROSES (END ONLY) ===== */
let roseInterval;

function startRoses() {
  if (roseInterval) return;

  roseInterval = setInterval(() => {
    const r = document.createElement('div');
    r.className = 'flower rose';
    r.innerText = 'üåπ';

    r.style.left = Math.random() * 100 + 'vw';
    r.style.fontSize = 20 + Math.random() * 22 + 'px';
    r.style.animationDuration = 12 + Math.random() * 6 + 's';

    document.body.appendChild(r);
    setTimeout(() => r.remove(), 20000);
  }, 2800); // rare, intentional
}

/* ===== GALLERY ===== */
const galleryItems = document.querySelectorAll('.gallery img, .gallery video');
let index = 0;
let galleryStarted = false;

const DISPLAY_TIME = 6000;
const FIRST_DISPLAY_TIME = 1500; // üëà shorter first image
const FADE_DURATION = 3000;

function showItem(i) {
  galleryItems.forEach((el, idx) => {
    if (idx === i) {
      el.classList.add('active');
      el.classList.remove('exit');
      if (el.tagName === 'VIDEO') el.play();
    } else {
      el.classList.remove('active');
      el.classList.add('exit');
      if (el.tagName === 'VIDEO') {
        setTimeout(() => {
          el.pause();
          el.currentTime = 0;
        }, FADE_DURATION);
      }
    }
  });
}

function startGallery() {
  if (galleryStarted) return;
  galleryStarted = true;

  showItem(index);

  // First transition happens faster
  setTimeout(() => {
    index = (index + 1) % galleryItems.length;
    showItem(index);

    // After first switch, use normal timing
    setInterval(() => {
      index = (index + 1) % galleryItems.length;
      showItem(index);
    }, DISPLAY_TIME);

  }, FIRST_DISPLAY_TIME);
}

  
/* Start gallery when visible (ONCE) */
const gallerySection = document.getElementById('gallery-section');
const galleryObserver = new IntersectionObserver(entries => {
  if (entries[0].isIntersecting) {
    startGallery();
  }
}, { threshold: 0.6 });

galleryObserver.observe(gallerySection);

const endSection = document.getElementById('end');
const endObserver = new IntersectionObserver(entries => {
  if (entries[0].isIntersecting) {
    startRoses();
  }
}, { threshold: 0.6 });

endObserver.observe(endSection);
</script>

</body>
</html>
